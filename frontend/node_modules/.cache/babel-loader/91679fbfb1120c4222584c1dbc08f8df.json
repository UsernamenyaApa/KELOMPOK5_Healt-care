{"ast":null,"code":"var _jsxFileName = \"D:\\\\Telkom University\\\\SMT 6\\\\iea_healt_care\\\\tugas_uts\\\\tugas_uts\\\\New folder\\\\Healt-care-app\\\\frontend\\\\src\\\\pages\\\\Doctors.js\";\nimport React, { useEffect, useState } from 'react';\nimport './Doctors.css';\nimport { useNavigate } from 'react-router-dom';\nimport { graphqlFetch } from '../utils/graphql';\nimport Medicine from './Medicine';\nimport Modal from '../components/Modal';\nconst DOCTOR_GQL = 'http://localhost:8002/graphql';\nconst Doctors = () => {\n  const [doctors, setDoctors] = useState([]);\n  const [selected, setSelected] = useState(null);\n  const [appointments, setAppointments] = useState([]);\n  const [showMedicineId, setShowMedicineId] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const doctorQuery = `query { doctors { id name specialization } }`;\n    graphqlFetch(DOCTOR_GQL, doctorQuery).then(data => setDoctors(data.doctors));\n  }, []);\n  const handleBook = doctor => {\n    navigate('/appointments', {\n      state: {\n        specialization: doctor.specialization,\n        doctor_id: doctor.id\n      }\n    });\n  };\n  const handleSelect = doc => {\n    setSelected(doc);\n    const apptQuery = `query($doctorId: Int!) { doctorAppointments(doctorId: $doctorId) { id patient_id schedule } }`;\n    graphqlFetch(DOCTOR_GQL, apptQuery, {\n      doctorId: doc.id\n    }).then(data => setAppointments(data.doctorAppointments));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"doctors-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, \"Daftar Dokter\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"doctors-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, doctors.map(doc => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"doctor-card\",\n    key: doc.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 16\n    }\n  }, doc.name)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, doc.specialization), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleBook(doc),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \"Buat Appointment\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleSelect(doc),\n    style: {\n      marginLeft: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"Lihat Appointment\"), selected && selected.id === doc.id && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"appointment-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, \"Appointment\"), appointments.length === 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 34\n    }\n  }, \"Tidak ada appointment.\") : appointments.map(a => /*#__PURE__*/React.createElement(\"div\", {\n    key: a.id,\n    className: \"appointment-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 8\n    }\n  }, \"Pasien ID:\"), \" \", a.patient_id), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 8\n    }\n  }, \"Jadwal:\"), \" \", a.schedule), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setShowMedicineId(a.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, \"Beri Resep\"), showMedicineId === a.id && /*#__PURE__*/React.createElement(Modal, {\n    onClose: () => setShowMedicineId(null),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Medicine, {\n    appointmentId: a.id,\n    isDoctor: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setShowMedicineId(null),\n    style: {\n      marginTop: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Tutup\")))))))));\n};\nexport default Doctors;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","graphqlFetch","Medicine","Modal","DOCTOR_GQL","Doctors","doctors","setDoctors","selected","setSelected","appointments","setAppointments","showMedicineId","setShowMedicineId","navigate","doctorQuery","then","data","handleBook","doctor","state","specialization","doctor_id","id","handleSelect","doc","apptQuery","doctorId","doctorAppointments","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","key","name","onClick","style","marginLeft","length","a","patient_id","schedule","onClose","appointmentId","isDoctor","marginTop"],"sources":["D:/Telkom University/SMT 6/iea_healt_care/tugas_uts/tugas_uts/New folder/Healt-care-app/frontend/src/pages/Doctors.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './Doctors.css';\nimport { useNavigate } from 'react-router-dom';\nimport { graphqlFetch } from '../utils/graphql';\nimport Medicine from './Medicine';\nimport Modal from '../components/Modal';\n\nconst DOCTOR_GQL = 'http://localhost:8002/graphql';\n\nconst Doctors = () => {\n  const [doctors, setDoctors] = useState([]);\n  const [selected, setSelected] = useState(null);\n  const [appointments, setAppointments] = useState([]);\n  const [showMedicineId, setShowMedicineId] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const doctorQuery = `query { doctors { id name specialization } }`;\n    graphqlFetch(DOCTOR_GQL, doctorQuery).then(data => setDoctors(data.doctors));\n  }, []);\n\n  const handleBook = (doctor) => {\n    navigate('/appointments', { state: { specialization: doctor.specialization, doctor_id: doctor.id } });\n  };\n\n  const handleSelect = (doc) => {\n    setSelected(doc);\n    const apptQuery = `query($doctorId: Int!) { doctorAppointments(doctorId: $doctorId) { id patient_id schedule } }`;\n    graphqlFetch(DOCTOR_GQL, apptQuery, { doctorId: doc.id }).then(data => setAppointments(data.doctorAppointments));\n  };\n\n\n  return (\n    <div className=\"doctors-section\">\n      <h2>Daftar Dokter</h2>\n      <div className=\"doctors-list\">\n        {doctors.map(doc => (\n          <div className=\"doctor-card\" key={doc.id}>\n            <p><b>{doc.name}</b></p>\n            <p>{doc.specialization}</p>\n            <button onClick={() => handleBook(doc)}>Buat Appointment</button>\n            <button onClick={() => handleSelect(doc)} style={{ marginLeft: 8 }}>Lihat Appointment</button>\n            {selected && selected.id === doc.id && (\n  <div className=\"appointment-list\">\n    <h4>Appointment</h4>\n    {appointments.length === 0 ? <p>Tidak ada appointment.</p> : appointments.map(a => (\n  <div key={a.id} className=\"appointment-card\">\n    <p><b>Pasien ID:</b> {a.patient_id}</p>\n    <p><b>Jadwal:</b> {a.schedule}</p>\n    <button onClick={() => setShowMedicineId(a.id)}>Beri Resep</button>\n    {showMedicineId === a.id && (\n      <Modal onClose={() => setShowMedicineId(null)}>\n        <Medicine appointmentId={a.id} isDoctor={true} />\n        <button onClick={() => setShowMedicineId(null)} style={{marginTop: 16}}>Tutup</button>\n      </Modal>\n    )}\n  </div>\n))}\n  </div>\n)}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Doctors;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}